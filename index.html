<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Guardians Remnant – Creator Engine</title>
  <style>
    html, body { margin:0; padding:0; background:#0b1a2a; overflow:hidden; }
    canvas { display:block; width:100vw; height:100vh; image-rendering: pixelated; }
    #log {
      position: fixed; left: 10px; top: 10px; right: 10px;
      color:#7fd4ff; font: 14px system-ui; line-height: 1.3;
      background: rgba(0,0,0,0.25); padding:10px; border-radius:10px;
      border:1px solid rgba(127,212,255,0.35);
    }
  </style>
</head>
<body>
  <div id="log">Booting…</div>
  <canvas id="game"></canvas>

  <script type="module">
    const logEl = document.getElementById("log");
    const canvas = document.getElementById("game");
    const ctx = canvas.getContext("2d");

    function log(msg){ logEl.textContent = msg; }
    function resize(){
      canvas.width = Math.floor(window.innerWidth * devicePixelRatio);
      canvas.height = Math.floor(window.innerHeight * devicePixelRatio);
      ctx.setTransform(devicePixelRatio,0,0,devicePixelRatio,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    // Visual proof immediately (even if imports fail)
    ctx.fillStyle = "#7fd4ff";
    ctx.font = "24px system-ui";
    ctx.fillText("Engine boot…", 20, 50);

    try {
      // Load engine modules (these paths must exist in your repo)
      await import("./engine/core/loop.js");
      await import("./engine/map/tilesets.js");

      log("Engine modules loaded ✅");

      const { Tilesets } = await import("./engine/map/tilesets.js");

      // load the first tileset image
      const img = new Image();
      img.src = Tilesets.debug.image; // uses whatever you set in tilesets.js

      img.onload = () => {
        // draw it big so you can see it clearly
        ctx.imageSmoothingEnabled = false;
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(img, 20, 100, 64, 64);
        log("Tile drawn ✅");
      };

      img.onerror = () => {
        log("Tile failed to load ❌ (check Tilesets.debug.image path)");
